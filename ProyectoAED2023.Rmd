---
title: Proyecto AED
author:
  - name: Inés Esteve Mompó
  - name: Azael
  - name: Manuel
journal: notspecified
type: article
simplesummary: En este proyecto, vamos a analizar el número de préstamos y devoluciones de las bicicletas de 'ValenBisi' durante el año 2022 en cada una de sus estaciones ubicadas por toda la ciudad de Valencia. También compararemos, entre otras cosas, la posible influencia que puede tener, sobre el alquiler de estas bicicletas, estar cerca de otros medios de transporte público de la ciudad como podría ser el ejemplo de 'MetroValencia'.
endnotes: false
output: 
  rticles::mdpi_article:
    extra_dependencies: longtable
---


# Introducción. Descripción del proyecto

Vamos a analizar el número de préstamos y devoluciones de las bicicletas de **ValenBisi** durante el año 2022 en cada una de sus estaciones ubicadas por toda la ciudad de Valencia. También compararemos, entre otras cosas, la posible influencia que puede tener, sobre el alquiler de estas bicicletas, estar cerca de otros medios de transporte público de la ciudad como podría ser el ejemplo de 'MetroValencia'.

El trabajo partirá a través de 2 conjuntos de datos, más tarde se podrán incluir otros para hacer futuras comparaciones de nuestros datos. El dataset principal sobre el que trabajaremos, llamado *'ValenBisi_2022.csv'* que podemos encontrar en https://datos.gob.es/es/catalogo/l01462508-valenbisi-2022-alquileres-y-devoluciones, muestra los datos del problema que anteriormente hemos detallado, el número de préstamos y devoluciones de las bicicletas de 'ValenBisi' durante el año 2022. En cambio, el otro dataset que vamos a hacer servir, *'ValenBisi_disponibilidad.csv'*, que podemos encontrar en https://datos.gob.es/es/catalogo/l01462508-valenbisi-disponibilidad y que se actualiza cada 10 minutos, será usado únicamente con la finalidad de recoger la información de dos de sus filas, concretamente aquellas que muestran las coordenadas geográficas de cada una de las estaciones de bicicletas, para el posterior tratamiento de estas.

# Lectura de los primero conjuntos de datos

Tal como hemos comentado en la introducción, empezamos importando el primer conjunto de datos sobre el que vamos a trabajar, *'ValenBisi_2022.csv'*, que se encuentra en la carpeta 'data' que hemos creado anteriormente dentro de la mista carpeta donde se encuentra este fichero sobre el que estamos escribiendo '.Rmd'.

La lectura la realizamos haciendo uso de la libreria ***'readr'***. Importamos primeramente esta libreria:
```{r}
library(readr)
```

Importamos los datos teniendo en cuenta que el separador es ';':
```{r}
ValenBisi_2022 <- read_delim("data/ValenBisi_2022.csv", 
                    delim = ";", escape_double = FALSE, 
                    col_types = cols(fecha_creacion = col_skip(), 
                    fecha_baja = col_skip()), trim_ws = TRUE)
```

En la primera lectura de los datos hemos eliminado dos de sus columnas ya que estas no aportaban ningún tipo de información a nuestro análisis, estas columnas eran, por una parte, *fecha_creacion*, que correspondía a la fecha en la que se había creado el dataset que analizaremos y, por otra parte, *fecha_baja*, que era una columna llena de valores faltantes 'NA'.

Con la lectura anterior, hemos creado un nuevo data.frame llamado *'ValenBisi_2022'* que contiene nuestros datos organizados en las siguientes columnas:

1.'**id**': columna que contiene el número de observaciones del conjunto de datos, enumeradas desde el 1 hasta el último registro.

2.'**codigo_estación**': columna que designa, a cada estación de Valenbisi, un número concreto como único identificador de la misma.

3.'**estacion**': columna que viene dada por numero de código de estación seguido por el nombre de la ubicación de cada estación concreta escrita en castellano y en un formato concreto donde el separador es '-'.

4.'**tramo_horario**': columna que representa cada hora de un dia.

5.'**numero_de_prestamos**': columna que representa el número de prestamos medios de bicicletas.

6.'**numero_de_devoluciones**': columna que representa el número de devoluciones medias de bicicletas.


Vemos cual es el tipo datos que tiene cada columna, utilizando la función ***'str()'*** que nos proporciona una descripción concisa de la estructura del dataframe:
```{r}
str(ValenBisi_2022)
```
Notamos que los elementos de las columnas '**id**', '**codigo_estacion**','**numero_de_prestamos**' y '**numero_de_devoluciones**' són de tipo numérico y los elementos de las columnas '**estacion**' y '**tramo_horario**' de tipo caracter.


Buscamos posibles valores faltantes(missing values) en las diistintas columnas del data.frame:
```{r}
#Valores faltantes por columnas: vfalt_x_col_1
vfalt_x_col_1 <- sapply(ValenBisi_2022, function(x) sum(is.na(x)))

#Visualización
print(vfalt_x_col_1)
```
Acabamos de probar que no tenemos ningún valor faltante en ninguna de las columnas de nuestro dataframe, por lo que podemos seguir, por ahora, con tranquilidad con nuestro analisis.

